{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/core/tooltik.js","webpack:///./js/index.js","webpack:///./js/ui/grid.js","webpack:///./js/core/sudoku.js","webpack:///./js/core/generator.js","webpack:///./js/core/checker.js","webpack:///./js/ui/popupnumber.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","matrixToolkit","makeRow","v","arguments","length","undefined","array","Array","fill","makeMatrix","_this","this","from","shuffle","endIndex","j","Math","floor","random","_ref","checkFillable","matrix","rowIndex","colIndex","row","column","map","boxIndex","boxToolkit","convertToBoxIndex","box","getBoxCells","startRowIndex","startColIndex","result","cellIndex","push","convertFromBoxIndex","celIndex","Toolkit","_classCallCheck","_createClass","Grid","require","PopupNumbers","grid","$","build","layout","popupNumbers","bindPopup","on","e","check","alert","reset","clear","rebuild","Sudoku","Checker","container","_$container","sudoku","make","puzzleMatrix","rowGroupClass","colGroupClass","$divArray","rowValues","cellValue","addClass","text","$spanArray","append","width","height","css","line-height","font-size","$cell","target","is","popup","empty","data","children","div","span","parseInt","toArray","$data","checker","marks","matrixMarks","each","removeClass","find","Generator","generator","generate","soluteMatrix","level","cell","Tooltik","internalGenerate","console","warn","orders","fillNumber","fillRow","checkArray","masks","_matrix","_matrixMasks","checkRows","checkCols","checkBoxes","_success","every","mark","cols","_Toolkit$box$convertF","$panel","_$panel","hide","_$taegetCell","$span","hasClass","_$cell$position","position","left","top","show"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/**\n* 矩阵\n*/\nconst matrixToolkit = {\n  makeRow (v = 0) {\n    const array = new Array(9)\n    array.fill(v)\n    return array\n  },\n\n  makeMatrix (v = 0) {\n    return Array.from({length: 9}, () => this.makeRow(v))\n  },\n\n  /* 对数组随机排序， 然后把这个数组返回来 */\n  shuffle (array) {\n    const endIndex = array.length - 2\n    for (let i = 0; i <= endIndex; i++) {\n      const j = i + Math.floor(Math.random() * (array.length - i));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n  },\n\n  /* 检查指定位置是否填写数字 N */\n  checkFillable (matrix, n, rowIndex, colIndex) {\n    const row = matrix[rowIndex]\n    const column = this.makeRow().map((v, i) => matrix[i][colIndex])\n    const { boxIndex } = boxToolkit.convertToBoxIndex(rowIndex, colIndex)\n    const box = boxToolkit.getBoxCells(matrix, boxIndex)\n    for (let i = 0; i < 9; i++) {\n      if (row[i] === n || column[i] === n || box[i] === n) {\n        return false\n      }\n    }\n    return true\n  }\n}\n\n/*\n 宫坐标系\n*/\n\nconst boxToolkit = {\n  getBoxCells (matrix, boxIndex) {\n    const startRowIndex = Math.floor(boxIndex / 3) * 3\n    const startColIndex = boxIndex % 3 * 3\n    const result = []\n    for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\n      const rowIndex = startRowIndex + Math.floor(cellIndex / 3);\n      const colIndex = startColIndex + cellIndex % 3;\n      result.push(matrix[rowIndex][colIndex]);\n    }\n    return result\n  },\n\n  convertToBoxIndex (rowIndex, colIndex) {\n    return {\n      boxIndex: Math.floor(rowIndex / 3) * 3 + Math.floor(colIndex / 3),\n      cellIndex: rowIndex % 3 * 3 + colIndex % 3\n    }\n  },\n\n  convertFromBoxIndex (boxIndex, cellIndex) {\n    return {\n      boxIndex: Math.floor(boxIndex / 3) * 3 + Math.floor(cellIndex / 3),\n      celIndex: boxIndex % 3 * 3 + cellIndex % 3\n    }\n  }\n}\n\n// 工具集\nmodule.exports = class Toolkit {\n  /*矩阵和数组相关的数组*/\n  static get matrix () {\n    return matrixToolkit\n  }\n\n  /*宫坐标系相关的数组*/\n  static get box () {\n    return boxToolkit\n  }\n}\n","const Grid = require('./ui/grid.js')\nconst PopupNumbers = require('./ui/popupnumber')\n\nconst grid = new Grid($('#container'))\ngrid.build()\ngrid.layout()\n\nconst popupNumbers = new PopupNumbers($('#popupNumbers'))\ngrid.bindPopup(popupNumbers)\n\n$('#check').on('click', e => {\n  if (grid.check()) {\n    alert('成功！')\n  }\n})\n$('#reset').on('click', e => {\n  grid.reset()\n})\n$('#clear').on('click', e => {\n  grid.clear()\n})\n$('#rebuild').on('click', e => {\n  grid.rebuild()\n})\n","// 生成九宫格\n\nconst Tooltik = require('../core/tooltik')\nconst Sudoku = require('../core/sudoku')\nconst Checker = require('../core/checker')\n\nclass Grid {\n  constructor (container) {\n    this._$container = container\n  }\n\n  build () {\n    const sudoku = new Sudoku()\n    sudoku.make()\n    const matrix = sudoku.puzzleMatrix\n\n    const rowGroupClass = ['row_g_top', 'row_g_middle', 'row_g_bottom']\n    const colGroupClass = ['col_g_left', 'col_g_center', 'col_g_right']\n\n    const $cells = matrix.map(rowValues => rowValues.map((cellValue, colIndex) => {\n      return $('<span>')\n            .addClass(colGroupClass[colIndex % 3])\n            .addClass(cellValue ? 'tips' : 'empty')\n            .text(cellValue)\n    }))\n\n    const $divArray = $cells.map(($spanArray, rowIndex) => {\n      return $('<div>')\n            .addClass('row')\n            .addClass(rowGroupClass[rowIndex % 3])\n            .append($spanArray)\n    })\n\n    this._$container.append($divArray)\n\n  }\n\n  layout () {\n    const width = $('span:first', this._$container).width()\n    $('span', this._$container)\n      .height(width)\n      .css({\n        'line-height': `${width}px`,\n        'font-size': width < 32 ? `${width}px` : ''\n      })\n  }\n\n  bindPopup (popupNumbers) {\n    this._$container.on('click', 'span', e => {\n      const $cell = $(e.target)\n      if ($cell.is('.tips')) return\n      popupNumbers.popup($cell)\n    })\n  }\n\n  rebuild () {\n    this._$container.empty()\n    this.build()\n    this.layout()\n  }\n\n  check () {\n    // 从界面获取需要检查的数据\n    const data = this._$container.children()\n      .map((rowIndex, div) => {\n        return $(div).children()\n          .map((colIndex, span) => parseInt($(span).text()) || 0)\n      })\n      .toArray()\n      .map($data => $data.toArray())\n\n    const checker = new Checker(data)\n    if (checker.check()) {\n      return true\n    }\n\n    // 检查不成功，进行标记\n    const marks = checker.matrixMarks\n    this._$container.children()\n      .each((rowIndex, div) => {\n        $(div).children().each((colIndex, span) => {\n          const $span = $(span)\n          if ($span.is('.tips') || marks[rowIndex][colIndex]) {\n            $(span).removeClass('error')\n          } else {\n            $(span).addClass('error')\n          }\n\n        })\n      })\n  }\n\n  reset () {\n    this._$container.find('span:not(.tips)')\n      .removeClass('error mark1 mark2')\n      .addClass('empty')\n      .text(0)\n  }\n\n  clear () {\n    this._$container.find('span.error')\n      .removeClass('error')\n  }\n}\n\nmodule.exports = Grid\n","// 生成数独游戏\n// 1. 生成完成的解决方案：Generator\n// 2. 随机去除部分数据：按比例\n\nconst Generator = require('./generator')\n\nmodule.exports = class Sudoku {\n  constructor () {\n    // 生成完成的解决方案\n    const generator = new Generator()\n    generator.generate()\n    this.soluteMatrix = generator.matrix\n  }\n\n  make (level = 5) {\n    // 生成迷盘\n    this.puzzleMatrix = this.soluteMatrix.map(row => row.map(cell => {\n      return Math.random() * 9 < level ? 0 : cell\n    }))\n  }\n}\n","// 生成数独解决方案\nconst Tooltik = require('./tooltik')\n\nmodule.exports = class Generator {\n  generate () {\n    while (!this.internalGenerate()) {\n      console.warn('try again')\n    }\n  }\n\n  internalGenerate () {\n    this.matrix = Tooltik.matrix.makeMatrix()\n    this.orders = Tooltik.matrix.makeMatrix()\n            .map(row => row.map((v, i) => i))\n            .map(row => Tooltik.matrix.shuffle(row))\n\n    for (let n = 1; n <= 9; n++) {\n      if (!this.fillNumber(n)) {\n        return false\n      }\n    }\n    return true\n  }\n\n  fillNumber (n) {\n    return this.fillRow(n, 0)\n  }\n\n  fillRow (n, rowIndex) {\n    if (rowIndex > 8) {\n      return true\n    }\n\n    const row = this.matrix[rowIndex]\n    // 随机选择列\n    const orders = this.orders[rowIndex]\n    for (let i = 0; i < 9; i++) {\n      const colIndex = orders[i]\n      // 如果这个位置已经有值，跳过\n      if (row[colIndex]) {\n        continue;\n      }\n\n      // 检查这个位置是否可以填写 n\n      if (!Tooltik.matrix.checkFillable(this.matrix, n, rowIndex, colIndex)) {\n        continue;\n      }\n\n      row[colIndex] = n\n\n      // 当前行填写 n 成功，递归调用 fillRow() 来在下一行中填写 n\n      // 去下一行填写 n， 如果没填写进去，就继续寻找当前行下一个位置\n      if (!this.fillRow(n, rowIndex + 1)) {\n        row[colIndex] = 0\n        continue;\n      }\n      return true\n    }\n    return false\n  }\n}\n\n\n//\n// const generator = new Generator()\n// generator.generate()\n// console.log(generator.matrix)\n","// 检查书读的解决方案\nfunction checkArray (array) {\n  const length = array.length\n  const masks = new Array(length)\n\n  masks.fill(true)\n  for (let i = 0 ; i < 9; i++) {\n    if (!masks[i]) {\n      continue\n    }\n    const v = array[i]\n    // 检查是否有效 0 无效 1-9有效\n    if (!v) {\n      masks[i] = false\n      continue\n    }\n    // 检查是否重复 i+1 ~ 9， 是否有和i重复的数据\n    for (let j = i + 1; j < length; j++) {\n      if (v === array[j]) {\n        masks[i] = masks[j] = false\n      }\n    }\n  }\n  return masks\n}\n\nconst Toolkit = require('./tooltik')\n// 输入: matrix,用户完成的数独数据 9*9\n// 处理：对matrix 行，列， 宫进行检查，并填写masks\n// 输出：检查是否成功， masks\nmodule.exports = class Checker {\n  constructor (matrix) {\n    this._matrix = matrix\n    this._matrixMasks = Toolkit.matrix.makeMatrix(true)\n  }\n\n  get matrixMarks () {\n    return this._matrixMasks\n  }\n\n  get isSuccess () {\n    return this._success\n  }\n\n  check () {\n    this.checkRows()\n    this.checkCols()\n    this.checkBoxes()\n\n    // 检查是否成功\n    this._success = this._matrixMasks.every(row => row.every(mark => mark))\n    return this._success\n  }\n\n  checkRows () {\n    for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n      const row = this._matrix[rowIndex]\n      const marks = checkArray(row)\n\n      for (let colIndex = 0; colIndex < marks.length; colIndex++) {\n        if (!marks[colIndex]) {\n          this._matrixMasks[rowIndex][colIndex] = false\n        }\n      }\n    }\n  }\n\n  checkCols () {\n    for (let colIndex = 0; colIndex < 9; colIndex++) {\n      const cols = []\n      for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n        cols[rowIndex] = this._matrix[rowIndex][colIndex]\n      }\n      const marks = checkArray(cols)\n      for (let rowIndex = 0; rowIndex < marks.length; rowIndex++) {\n        if (!marks[rowIndex]) {\n          this._matrixMasks[rowIndex][colIndex] = false\n        }\n      }\n    }\n  }\n\n  checkBoxes () {\n    for (let boxIndex = 0; boxIndex < 9; boxIndex++) {\n      const boxes = Toolkit.box.getBoxCells(this._matrix, boxIndex)\n      const marks = checkArray(boxes)\n      for(let cellIndex = 0; cellIndex < 9; cellIndex++) {\n        if (!marks[cellIndex]) {\n          const { rowIndex, colIndex } = Toolkit.box.convertFromBoxIndex(boxIndex, cellIndex)\n          this._matrixMasks[boxIndex][cellIndex] = false\n        }\n      }\n\n    }\n  }\n}\n","// 处理弹出的操作面板\nmodule.exports = class PopupNumbers {\n  constructor ($panel) {\n    this._$panel = $panel.hide().removeClass('hide')\n\n    this._$panel.on('click', 'span', e => {\n      const $cell = this._$taegetCell\n      const $span = $(e.target)\n      // 1-9 回填数字\n      // mark1 && marks2 回填样式\n      if ($span.hasClass('mark1')) {\n        if ($cell.hasClass('mark1')) {\n          $cell.removeClass('mark1')\n        } else {\n          $cell.removeClass('mark2')\n            .addClass('mark1')\n        }\n      } else if ($span.hasClass('mark2')) {\n        if ($cell.hasClass('mark2')) {\n          $cell.removeClass('mark2')\n        } else {\n          $cell.removeClass('mark1')\n            .addClass('mark2')\n        }\n      } else if ($span.hasClass('empty')) {\n        // 取消数字和mark\n        $cell.text(0)\n          .addClass('empty')\n      } else {\n        $cell.removeClass('empty')\n          .text($span.text())\n      }\n\n      this.hide()\n    })\n  }\n\n  popup ($cell) {\n    this._$taegetCell = $cell\n    const { left, top} = $cell.position()\n    this._$panel\n      .css({\n        left: `${left}px`,\n        top: `${top}px`\n      })\n      .show()\n  }\n\n  hide () {\n    this._$panel.hide()\n  }\n}\n"],"sourceRoot":""}